import{a as l,f as m,b as o,d as u,F as g,e as f,o as n}from"./index-e8PIdNJW.js";import{C as p,c as y,g as _,a as h,s as x,d as P,S as b}from"./S3Client-B1SNSQi2.js";class C extends p.classBuilder().ep({...y,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(a,r,s,t){return[_(s,this.serialize,this.deserialize),h(s,a.getEndpointParameterInstructions())]}).s("AmazonS3","ListObjectsV2",{}).n("S3Client","ListObjectsV2Command").f(void 0,void 0).ser(x).de(P).build(){}const w={class:"container mx-auto text-center px-4 py-24"},B={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},j=["data-src"],V={__name:"GalleryView",setup(c){const a=l([]);return m(async()=>{const r=new b({region:"eu-west-1",credentials:{accessKeyId:"AKIA6ODU3IQEF25MD6YV",secretAccessKey:"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"}});try{const t={Bucket:"oompah-brass-gallery",Prefix:"gallery"},i=await r.send(new C(t));a.value=i.Contents.filter(e=>e.Size>0).map(e=>({url:`https://${t.Bucket}.s3.amazonaws.com/${e.Key}`,lastModified:e.LastModified,name:e.Key})),a.value.sort((e,d)=>d.lastModified-e.lastModified)}catch(s){console.error("Error listing objects:",s)}}),(r,s)=>(n(),o("div",w,[u("div",B,[(n(!0),o(g,null,f(a.value,t=>(n(),o("img",{key:t.name,"data-src":t.url,alt:"Gallery",class:"rounded-xl shadow-sm shadow-gray-700 w-full object-cover h-80 mx-auto border border-gray-800 lazyload"},null,8,j))),128))])]))}};export{V as default};
